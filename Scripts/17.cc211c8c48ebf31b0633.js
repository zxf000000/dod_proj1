(function(){var U=document&&document.currentScript&&document.currentScript.src;(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[17],{"09uc":function($,u,a){"use strict";a.r(u),a.d(u,"init",function(){return b}),a.d(u,"openPopupWithEvent",function(){return P}),a.d(u,"closePopup",function(){return A});var L=a("yXPU"),v=a.n(L),g=a("foIZ"),c=a("C+iK"),h=a("NO3N"),d=a("J66h"),K=a.n(d);const f=230,y=270,M=300,_=390;class E{constructor({container:t}){this.container=t,this.navigationMonths=0,this._bindMethods(),t.addEventListener("click",this._navigationDispatch),this._loadCurrentMonth()}_bindMethods(){this._loadNewMonth=this._loadNewMonth.bind(this),this._loadCurrentMonth=this._loadCurrentMonth.bind(this),this._buildDataString=this._buildDataString.bind(this),this._fetchAndLoadNewMonth=this._fetchAndLoadNewMonth.bind(this),this._navigationDispatch=this._navigationDispatch.bind(this)}_navigationDispatch(t){const n=t.target.closest("[class*=arrow-container]"),o=t.target.closest(".today-btn-container");n?this._loadNewMonth(n):o&&this._loadCurrentMonth()}_buildDataString(){const t={};return t.commandID="d1_loadNewGoogleCalendar",t["data-public-calendar-id"]=this.container.getAttribute("data-public-calendar-id"),t["data-navigation-months"]="0",t.device=c.getCurrentLayoutDevice(),t["data-week-start-on"]=this.container.getAttribute("data-week-start-on"),t}_loadCurrentMonth(){var t=this;return v()(function*(){const n=t._buildDataString();yield t._fetchAndLoadNewMonth(n,0)})()}_loadNewMonth(t){var n=this;return v()(function*(){const o=n._buildDataString(),i=getComputedStyle(n.container.querySelector(".calendar-container")).getPropertyValue("direction")==="rtl"?-1:1,s=t.classList.contains("left-arrow-container")?-1:1,r=n.navigationMonths+i*s,p=r.toString(10);o["data-navigation-months"]=p,yield n._fetchAndLoadNewMonth(o,r)})()}_fetchAndLoadNewMonth(t,n){var o=this;return v()(function*(){const l=`/_dm/s/rt/api/public/wpl/site/${c.getSiteAlias()}`,i=yield fetch(l,{method:"POST",credentials:"include",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(i.ok){const s=yield i.json();if(s.googleCalendarMarkup){const r=document.createElement("div");r.innerHTML=s.googleCalendarMarkup.toString(),o.container.innerHTML=r.querySelector(".dm-google-calendar").innerHTML,o.container.setAttribute("data-navigation-months",t["data-navigation-months"])}o.navigationMonths=n}})()}}E.displayName="GoogleCalendar";function b(){const e=[];Array.from(document.querySelectorAll(".dm-google-calendar")).forEach(n=>{e[n.id]=new E({container:n})}),N(e)}function P(e){const t=document.createElement("div"),n=e.description?`<div class='event-description dmNewParagraph'>${e.description.replace(/\n/g,"<br>")}</div>`:"",o=`<span>
                        ${e.isAllDayEvent==="true"?e.date:`${e.start} - ${e.end}`}
                        </span>`;t.innerHTML=`
        <div class='event-full-container'>
          <p>
              <span class="event-full-container-title">${e.summary}</span>
              <br/>
              ${o}
              <br/>
          </p> 
          ${n}     
        </div>    
`,t.querySelectorAll(".event-description a").forEach(function(r){r.setAttribute("target","_blank")});const l={dontOverlay:!0,animation:"opened-calendar-popup"},i=c.getCurrentLayoutDevice()===h.b.MOBILE?f:y,s=c.getCurrentLayoutDevice()===h.b.MOBILE?M:_;g.e.openPopup(t,"google-calendar-popup-content-container",s,i,l)}function A(){g.e.hidePopup()}function N(e){e.length?document.addEventListener("click",D):document.removeEventListener("click",D)}function D(e){const t=e.target.closest(".event-container"),n=e.target.closest(".x-more-container"),o=e.target.closest(".monthly-day-card.mobile");t?T(t):n?C(n):o&&C(o,!0)}function T(e){const t=JSON.parse(d.Base64.decode(e.dataset.calendarEvent));!t||P(t)}function C(e,t=!1){const n=e.closest(".monthly-day-card");if(!n.querySelector(".events-container").querySelectorAll(".event-container").length)return;const i=n.cloneNode(!0),s=i.querySelector(".x-more-container");s&&s.remove(),t&&(i.querySelector(".events-container").style.display="block");const r=JSON.parse(d.Base64.decode(n.dataset.dayEvents));let p="";for(const S of r){const m=JSON.parse(d.Base64.decode(S.eventB64));let O="";m.isAllDayEvent==="false"&&(O=`<span class="start"> ${S.start}</span>`),p+=`
            <p class="event-container clickable" data-calendar-event=${d.Base64.encode(JSON.stringify(m))}>
              ${O}
              <span>${m.summary}</span>
              <br/>
            </p>
`}const I=i.querySelector(".events-container");I.innerHTML=p;const w=i,B={dontOverlay:!0,animation:"opened-calendar-popup"},W=c.getCurrentLayoutDevice()===h.b.MOBILE?f:y,H=c.getCurrentLayoutDevice()===h.b.MOBILE?M:_;g.e.openPopup(w,"google-calendar-popup-content-container",H,W,B)}}}])})();
